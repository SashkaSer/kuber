# Домашнее задание к занятию "`Хранение в K8s. Часть 1`" - `Сергиенко А. В.`

### Задание 1 Создать Deployment приложения, состоящего из двух контейнеров и обменивающихся данными.
1. Создать Deployment приложения, состоящего из контейнеров busybox и multitool.
2. Сделать так, чтобы busybox писал каждые пять секунд в некий файл в общей директории.
3. Обеспечить возможность чтения файла контейнером multitool.
4. Продемонстрировать, что multitool может читать файл, который периодоически обновляется.
5. Предоставить манифесты Deployment в решении, а также скриншоты или вывод команды из п. 4.

busybox каждые 5 секунд пишет дату и время в файл /test/test.txt
```
command: ['sh', '-c', 'while true; do echo {`date`} >> ./test/test.txt; sleep 5; done;']
```
multitool имеет доступ к этому файлу через общий Volume
![file](https://github.com/SashkaSer/kuber/blob/main/2.1/img/date.png)`  

Манифесты к заданию 1 лежат в manifests/task1

---
### Задание 2. Создать DaemonSet приложения, которое может прочитать логи ноды.

1. Создать DaemonSet приложения, состоящего из multitool.
2. Обеспечить возможность чтения файла /var/log/syslog кластера MicroK8S.
3. Продемонстрировать возможность чтения файла изнутри пода.
4. Предоставить манифесты Deployment, а также скриншоты или вывод команды из п. 2.

Как видим, под имеет доступ к логам ноды из директории /var/log, вывод последних 5 строк.
![logs](https://github.com/SashkaSer/kuber/blob/main/2.1/img/logs.png)`  

Последние сторки dmesg совпадают
![dmesg](https://github.com/SashkaSer/kuber/blob/main/2.1/img/dmesg.png)`  

Манифесты к заданию 1 лежат в manifests/task2